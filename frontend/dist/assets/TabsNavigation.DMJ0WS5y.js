import{d as L,b as h,l as E,k as I,z as N,B as R,e as V,g as S,C as H,p as t,D as P,E as T,T as M,o as k,F as U,_ as D,j as F,q as y,v as x,x as C,s as _,c as q,u as A,G as O,H as W,J as j,I as G,n as J}from"./index.CrVlIMw6.js";const K={class:"row",style:{"margin-bottom":"8px"}},Q={class:"actions"},X=L({__name:"DatePopover",props:{open:{type:Boolean},anchor:{},modelValue:{}},emits:["close","update:modelValue"],setup(g,{emit:b}){const s=g,i=b,r=h(null),u=h({top:0,left:0}),e=h(s.modelValue.start),o=h(s.modelValue.end),a=()=>{if(!s.anchor||!r.value)return;const l=s.anchor.getBoundingClientRect(),n=r.value.offsetWidth||340,c=r.value.offsetHeight||170;let w=l.bottom+8,f=l.right-n;const p=12,$=window.innerWidth,B=window.innerHeight;w+c+p>B&&(w=Math.max(p,l.top-c-8)),f<p&&(f=p),f+n+p>$&&(f=Math.max(p,$-n-p)),u.value={top:w,left:f}};E(()=>s.open,async l=>{if(!l){m();return}e.value=s.modelValue.start,o.value=s.modelValue.end,await U(),a(),setTimeout(()=>{document.addEventListener("click",v,{capture:!1}),document.addEventListener("keydown",d)},100)}),E(()=>s.modelValue,l=>{s.open&&(e.value=l.start,o.value=l.end)},{deep:!0});const v=l=>{if(!r.value||!s.open)return;const n=l.target,c=n instanceof HTMLInputElement;r.value.contains(n)||s.anchor?.contains(n)||c&&n.type==="date"||(m(),i("close"))},d=l=>{l.key==="Escape"&&s.open&&(m(),i("close"))},m=()=>{document.removeEventListener("click",v),document.removeEventListener("keydown",d)};I(()=>{window.addEventListener("resize",a)}),N(()=>{m(),window.removeEventListener("resize",a)});const z=()=>{if(!e.value||!o.value){alert("Período inválido.");return}if(new Date(e.value)>new Date(o.value)){alert("Data inicial não pode ser maior que a final.");return}i("update:modelValue",{start:e.value,end:o.value}),m(),i("close")};return(l,n)=>(k(),R(M,{to:"body"},[g.open?(k(),V("div",{key:0,ref_key:"popover",ref:r,class:"date-popover",style:H({top:`${u.value.top}px`,left:`${u.value.left}px`})},[n[3]||(n[3]=t("h4",null,"Alterar data",-1)),t("div",K,[P(t("input",{type:"date","onUpdate:modelValue":n[0]||(n[0]=c=>e.value=c),"aria-label":"Data inicial"},null,512),[[T,e.value]]),P(t("input",{type:"date","onUpdate:modelValue":n[1]||(n[1]=c=>o.value=c),"aria-label":"Data final"},null,512),[[T,o.value]])]),t("div",Q,[t("button",{class:"btn-sec",onClick:n[2]||(n[2]=c=>i("close"))},"Cancelar"),t("button",{class:"btn-pri",onClick:z},"Salvar")])],4)):S("",!0)]))}}),Y=D(X,[["__scopeId","data-v-b53949db"]]),Z={id:"lbl-atualizacao"},ee={class:"period-inline"},ae={class:"txt"},te=["disabled"],oe=L({__name:"PeriodoHeader",setup(g){const{period:b,startFormatted:s,endFormatted:i,isSimuladoresPage:r,updatePeriod:u}=F(),e=h(!1),o=h(null),a=v=>{if(e.value){e.value=!1;return}o.value=v.currentTarget,e.value=!0};return(v,d)=>(k(),V("div",Z,[t("div",ee,[t("span",ae,[d[1]||(d[1]=x(" De ",-1)),t("strong",null,C(_(s)),1),d[2]||(d[2]=x(" até ",-1)),t("strong",null,C(_(i)),1)]),t("button",{ref_key:"anchor",ref:o,class:"link-action",disabled:_(r),onClick:a},[...d[3]||(d[3]=[t("i",{class:"ti ti-chevron-down"},null,-1),x(" Alterar data ",-1)])],8,te)]),y(Y,{open:e.value,anchor:o.value,modelValue:_(b),"onUpdate:modelValue":_(u),onClose:d[0]||(d[0]=m=>e.value=!1)},null,8,["open","anchor","modelValue","onUpdate:modelValue"])]))}}),ne=D(oe,[["__scopeId","data-v-367c8ca0"]]),se={class:"tabs","aria-label":"Navegação principal"},le=["data-view","aria-label","onClick"],ie={class:"tab-icon"},re={class:"tab-label"},de={class:"tabs__aside"},ce={class:"muted"},ue=L({__name:"TabsNavigation",setup(g){const b=j(),s=A(),i=[{id:"cards",label:"Resumo",icon:"dashboard",ariaLabel:"Resumo",path:"/"},{id:"table",label:"Detalhamento",icon:"list-tree",ariaLabel:"Detalhamento",path:"/detalhes"},{id:"ranking",label:"Rankings",icon:"trophy",ariaLabel:"Rankings",path:"/ranking"},{id:"exec",label:"Visão executiva",icon:"chart-line",ariaLabel:"Visão executiva",path:"/exec"},{id:"simuladores",label:"Simuladores",icon:"calculator",ariaLabel:"Simuladores",path:"/simuladores"},{id:"campanhas",label:"Campanhas",icon:"speakerphone",ariaLabel:"Campanhas",path:"/campanhas"}],r=q(()=>{const e=s.path;return i.find(a=>a.path===e)?.id||"cards"}),u=e=>{const o=i.find(a=>a.id===e);o&&o.path&&b.push(o.path)};return(e,o)=>(k(),V("section",se,[(k(),V(O,null,W(i,a=>t("button",{key:a.id,class:J(["tab",{"is-active":r.value===a.id}]),"data-view":a.id,"aria-label":a.ariaLabel,onClick:v=>u(a.id)},[t("span",ie,[y(G,{name:a.icon,size:16,color:r.value===a.id?"white":void 0},null,8,["name","color"])]),t("span",re,C(a.label),1)],10,le)),64)),t("div",de,[t("small",ce,[y(ne)])])]))}}),ve=D(ue,[["__scopeId","data-v-601ec347"]]);export{ve as default};
